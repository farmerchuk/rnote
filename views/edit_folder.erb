<main>

  <div id="edit-folder" class="folder-form">

    <header class="main-header">

      <h1>Edit Folder / <%= @folder_name %></h1>

    </header>

    <aside class="folder-menu">

      <header>

        <a class="logo" href="/">r.note</a>

      </header>

      <section>

        <h2>Tips:</h2>

        <p>
          Folder tags can help you quickly identify what kind of folder this
          is. Also very useful for when filtering search results.
        </p>

        <p>
          Separate multiple tags with a space.
        </p>

        <p>
          Attributes are key traits like a person's title and contact
          information.
        </p>

      </section>

      <%== erb :_find_folder_widget %>

    </aside>

    <section class="main-body">

      <form action="/folders/<%= @folder_uuid %>/edit" method="post">

        <fieldset>

          <dl>

            <div class="form-row">

              <dt>
                <label for="name">What should this folder be called?</label>
              </dt>

              <dd>
                <input type="text" name="name" id="name" value="<%= params[:name] || @folder_name %>">
              </dd>

              <% if @errors %>

                <ul>
                  <% @errors[:folder_name].each do |error| %>
                    <li>
                      <small class="form-error"><%= error %></small>
                    </li>
                  <% end %>
                </ul>

              <% end %>

            </div>

            <div class="form-row">

              <dt>
                <label for="tags">Tags:</label>
              </dt>

              <dd>
                <input type="text" name="tags" id="tags" value="<%= params[:tags] || @folder_tags_string %>">
              </dd>

              <% if @errors %>

                <ul>
                  <% @errors[:folder_tags].each do |error| %>
                    <li>
                      <small class="form-error"><%= error %></small>
                    </li>
                  <% end %>
                </ul>

              <% end %>

            </div>

            <div class="form-row">

              <div class="col-1">
                <dt>
                  <label for="attr1">Attribute 1</label>
                </dt>
                <dd>
                  <input type="text" name="attr1" id="attr1" value="<%= params[:attr1] || @folder_attributes[0][:name] %>">
                </dd>
              </div><!--

              --><div class="col-2">
                <dt>
                  <label for="value1"></label>
                </dt>
                <dd>
                  <input type="text" name="value1" id="value1" value="<%= params[:value1] || @folder_attributes[0][:value] %>">
                </dd>
              </div>

            </div>

            <div class="form-row">

              <div class="col-1">
                <dt>
                  <label for="attr2">Attribute 2</label>
                </dt>
                <dd>
                  <input type="text" name="attr2" id="attr2" value="<%= params[:attr2] || @folder_attributes[1][:name] %>">
                </dd>
              </div><!--

              --><div class="col-2">
                <dt>
                  <label for="value2"></label>
                </dt>
                <dd>
                  <input type="text" name="value2" id="value2" value="<%= params[:value2] || @folder_attributes[1][:value] %>">
                </dd>
              </div>

            </div>

            <div class="form-row">

              <div class="col-1">
                <dt>
                  <label for="attr3">Attribute 3</label>
                </dt>
                <dd>
                  <input type="text" name="attr3" id="attr3" value="<%= params[:attr3] || @folder_attributes[2][:name] %>">
                </dd>
              </div><!--

              --><div class="col-2">
                <dt>
                  <label for="value3"></label>
                </dt>
                <dd>
                  <input type="text" name="value3" id="value3" value="<%= params[:value3] || @folder_attributes[2][:value] %>">
                </dd>
              </div>

            </div>

          </dl>

        </fieldset>

        <input class="btn form-submit" type="submit" value="Save Changes">

      </form>

      <form action="/folders/<%= @folder_uuid %>/delete" method="post">

        <input class="btn btn-delete delete-folder" type="submit" value="Delete Folder">

      </form>

      <a class="btn link-folder" href="/folders/<%= @folder_uuid %>/link">Link Folder</a>

      <a class="btn unlink-folder" href="/folders/<%= @folder_uuid %>/unlink">Unlink Folder</a>

    </section>

  </div>

</main>
